一、从输入网址到获得页面的网络请求过程

①域名解析；

②需要使用IP、ARP、OSPF协议帮助将消息从自己的PC机上面传输到服务器上面 ；

③TCP的3次握手 ； ④建立TCP连接之后发起HTTP请求 ；    

⑤服务器响应HTTP请求；     

⑥浏览器解析HTML代码，并且请求HTML页面中的其他静态资源；    

 ⑦断开TCP连接；     

⑧浏览器对页面进行渲染呈现在页面上

下面是具体的过程

1、如果PC主机没有自己的IP地址，就需要通过DHCP服务器来获得自己的IP地址

（1）首先，PC0生成一个**DHCP**请求报文**，然后将该报文放到具有DHCP服务器端口号（67）和自己的端口号（68）的**UDP****报文段**之中，这个UDP报文段被防止在一个**IP****数据报**中（这个IP数据报的源IP为0.0.0.0，目的IP为**广播地址**255.255.255.255）

（2）上面含有DHCP请求 报文的IP数据包会被放在**以太网帧**中，该以太网帧的的**目的地址**是FF:FF:FF:FF:FF:FF，被广播到与交换机连接的其他设备上面，源MAC地址是PC0的MAC地址00:16:D3:23:68:8A，该以太网帧会在交换机的所有端口广播该帧，包括连接到路由器的端口

**（****3****）路由器**接收到与之相连的交换机的**接口**中收到该**广播的以太网帧，**从以太网帧中抽取出IP数据报，其中的UDP报文段被分解然后并向上层传达至UDP，然后从UDP报文中解析出来得到DHCP请求报文

（4）假设DHCP能够通过**CIDR****（****68.85.2.0/24****）**方式分配IP地址（假设分配的是68.85.2.101）。DHCP服务器生成这个包含这个**已分配给****PC0****主机的****IP****地址、****DNS****服务器****IP****地址、默认网关路由器****IP****地址和子网块**的一个DHCP响应ACK报文，然后将这个DHCP报文访问UDP报文段中，这个UDP报文段被放入IP数据报中、->在放入以太网帧中，以太网帧中的源MAC地址就是路由器与刚刚收到发送广播报文的交换机相连的MAC地址，目的MAC地址就是PC0主机的MAC地址、

（5）交换机自学习能够找到PC0的MAC地址，能够寻址到达PC0主机，并且将包含DHCP响应ACK报文的以太网帧发送给PC0.

（6）PC0从以太网帧中提取出IP数据报，从IP数据报中抽取UDP报文段，再从UDP报文段中抽取DHCP ACK报文，这样就获得了IP地址以及DNS服务器的IP地址

2、准备DNS和ARP

​        （1）生成一个**DNS****查询报文（其中报文域名）**，将该报文放在UDP报文段中（其中含有从DHCP服务器获取到的DNS服务器IP地址和端口号，以及自己被分配的IP地址），然后放入IP数据报中，IP数据报中有DNS服务器的IP地址以及源IP地址。

​        （2）将上面的IP数据包放入以太网帧中，发送到网关路由器，虽然从DHCP服务器得到网关路由器的IP地址，但是并不知道网关路由器的MAC地址，这样就需要通过ARP协议获得网关路由器的MAC地址

​        （3）同样是通过广播**（含有****ARP****请求报文的以太网帧）**的形式，将含有目的IP（网关路由器的IP）发送到交换机中，然后网关路由器会接受到该以太网帧（IP地址和自己相同），然后网关路由器会发送ARP应答（应答中包含了自己的MAC地址）,应该中的目的地址就是PC0的MAC地址。

​        （4）现在PC0收到网关路由器ARP应答，其中就包含了网关路由器的MAC地址，最终PC0发送的以太网帧中就包含网关IP和MAC地址，就能够将以太网帧发送到网关路由器了

3、域内路由到选择DNS服务器

​        （1）网关路由器从收到的以太网帧中提取出含有DNS查询的IP数据报，然后查找这个数据报的目的地址（DNS服务器的IP地址），然后根据转发表将该报文发送到下一个路由器中

​        （2）当适合的路由器（向DNS服务器转发）收到该以太网帧之后，会抽取出IP数据报，检查数据报的目的地址，并通过转发表确定发送的接口然后向DNS服务器转发该数据报

​        （3）DNS服务器收到了含有DNS报文的数据报，然后从中抽取出DNS查询报文，在DNS服务器内部的数据库中查找到了域名对应的IP地址。然后服务器形成一条包含主机名到IP地址映射的DNS应答报文然后将应答报文放入UDP报文段中->再到发送到PC0主机的IP地址的IP数据报中 ，最终交付到PC0

​        （4）从DNS应答报文中抽取出服务器域名对应的IP地址

4、客户机服务器交互：TCP-HTTP连接

​        （1）PC0得到了服务器的IP地址，现在就可以进行TCP连接了。首先生成TCP套接字，用于向服务器发送HTTP GET请求报文，（下面就是TCP三次握手建立连接）

​        （2）TCP断开连接

 

二、TCP如何保证可靠性

滑动窗口,1比特等待协议,回退N针协议,选择性重传协议、快重传 快恢复 超时重传、流量控制，TCP拥塞控制

TCP/UDP的区别,介绍区别顺带说了使用场景,最后补刀TCP头20字节,UDP头8字节,

三、网络模型以及各层协议， 

四、http协议、http状态码200到500

五、cookie vs. session

六、tcp 断开连接的各种状态变化

七、TCP是如何保证数据有序传输的，之后是TCP为什么要四次挥手？TIME WAIT和CLOSE WAIT的状态出现在哪里？为什么需要TIME WAIT状态？假如没有TIME WAIT状态会发生啥？TIME WAIT状态过多的话应该怎么去解决？

八、DHCP如何实现分配ip的

九、TCP 安全性体现在哪些方面，采用了哪些机制？

十、HTTP的流量控制，具体的控制算法

十一、HTTPS怎么建立请求

十二、ARP协议？

十三、http缓存

22、Ping的整个过程。ICMP报文是什么

23、IP地址分类

路由器与交换机区别；路由协议（RIP/OPSF）

55、TCP 四次挥手 TIME_WAIT 等待两个 MSL作用 如果在 TIME_WAIT等待时客户端手动指定该端口再次发起连接，那么可以建立连接吗？

56、TCP 三次握手 服务端回复时可以将 ACK 和SYN分开发送吗 ；最后一次没有握手成功会，连接会建立吗

57、客户端收到一个窗口为 0 的包怎么处理       

66、TCP洪水攻击